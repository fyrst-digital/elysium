"use strict";(window["webpackJsonpPluginblur-elysium-slider"]=window["webpackJsonpPluginblur-elysium-slider"]||[]).push([[1327],{1327:function(e,l,i){i.r(l),i.d(l,{default:function(){return d}});let{Component:n,Mixin:o,Store:t,Context:r}=Shopware;var d=n.wrapComponentConfig({template:'<mt-card\n    position-identifier="blurElysium.slide.form.cover"\n    :title="$tc(\'blurElysiumSlides.forms.slideCover.label\')"\n    :class="[\'content-no-padding\']">\n\n    <template #headerRight>\n\n        <blur-device-switch \n            layout="row"\n            show-label="false"\n            :default-viewport="device"\n            :style="{\n                padding: \'0\',\n                width: \'100%\',\n                justifyContent: \'center\',\n                \'--container-gap\': \'12px\',\n                \'--icon-padding\': \'6px\',\n                \'--icon-bg-color\': \'#ffffff\',\n                \'--icon-hover-bg-color\': \'var(--color-gray-100)\',\n            }" \n            :device="device"\n            @change-device="device => elysiumUI.setDevice(device)"\n            />\n    </template>\n\n    <template #tabs>\n        <mt-tabs \n            :defaultItem="activeTab"\n            :items="tabs"\n            @new-item-active="activeTab = $event"\n        />\n    </template>\n\n    <blur-section>\n\n        <blur-column\n            padding\n            :cols-tablet="6"\n            :cols-desktop="8"\n            :style="viewStyle({\n                mobile:  { position: \'relative\' },\n                desktop: { borderRight: \'1px solid var(--color-border-primary-default)\' }\n            })">\n\n\n            <mt-loader v-if="mediaLoading" />\n\n            <template v-if="activeTab === \'coverImage\'">\n\n                <blur-section\n                    gap-y\n                    :description="$tc(\'blurElysiumSlides.forms.slideCoverImage.description\')">\n    \n                    <blur-column>\n\n                        <sw-upload-listener\n                            :upload-tag="slideCoverUploadTag"\n                            auto-upload\n                            @media-upload-finish="setSlideCover"\n                        />\n                        <sw-media-upload-v2\n                            variant="regular"\n                            label="Medium"\n                            :disabled="!(permissionCreate || permissionEdit)"\n                            file-accept="image/*"\n                            :upload-tag="slideCoverUploadTag"\n                            :source="slideCover"\n                            :allow-multi-select="false"\n                            :default-folder="\'blur_elysium_slides\'"\n                            @media-upload-remove-image="removeSlideCover"\n                            @media-upload-sidebar-open="openMediaModal"\n                        />\n                    </blur-column>\n\n                </blur-section>\n            </template>\n\n            <template v-if="activeTab === \'coverVideo\'">\n\n                <blur-section\n                    gap-y\n                    :description="$tc(\'blurElysiumSlides.forms.slideCoverVideo.description\')"\n                    >\n\n                    <blur-column>  \n\n                            <sw-upload-listener\n                                upload-tag="blur-elysium-slide-cover-video"\n                                auto-upload\n                                @media-upload-finish="payload => setSlideCover(payload, true)"\n                            />\n                            <sw-media-upload-v2\n                                ref="coverVideoUploadElement"\n                                variant="regular"\n                                label="Medium"\n                                :disabled="!(permissionCreate || permissionEdit)"\n                                file-accept="video/*"\n                                upload-tag="blur-elysium-slide-cover-video"\n                                :source="slideCoverVideo"\n                                :allow-multi-select="false"\n                                :default-folder="\'blur_elysium_slides\'"\n                                @media-upload-remove-image="removeSlideCover(true)"\n                                @media-upload-sidebar-open="openMediaModal(\'slideCoverVideo\')"\n                            />\n                    </blur-column>\n\n                </blur-section>\n            </template>\n        </blur-column>\n\n        <blur-column\n            padding\n            :cols-tablet="6"\n            :cols-desktop="4">\n\n            <blur-section\n                gap-y>\n\n                <blur-column>\n                    <blur-select-input \n                        :label="$tc(\'blurElysium.general.objectPosY\')" \n                        :placeholder="viewportsPlaceholder(\'coverMedia.objectPosY\', \'center\', \'blurElysium.general\')"\n                        :device="device"\n                        :show-device="true"\n                        :options="[\n                            { value: \'top\', label: $tc(\'blurElysium.general.top\') },\n                            { value: \'center\', label: $tc(\'blurElysium.general.center\') },\n                            { value: \'bottom\', label: $tc(\'blurElysium.general.bottom\') }\n                        ]"\n                        @on-device="deviceSwitch"\n                        v-model:value="slideViewportSettings.coverMedia.objectPosY" />\n                </blur-column>\n\n                <blur-column>\n                    <blur-select-input\n                        :label="$tc(\'blurElysium.general.objectPosX\')" \n                        :placeholder="viewportsPlaceholder(\'coverMedia.objectPosX\', \'center\', \'blurElysium.general\')"\n                        :device="device"\n                        :show-device="true"\n                        :options="[\n                            { value: \'left\', label: $tc(\'blurElysium.general.left\') },\n                            { value: \'center\', label: $tc(\'blurElysium.general.center\') },\n                            { value: \'right\', label: $tc(\'blurElysium.general.right\') }\n                        ]"\n                        @on-device="deviceSwitch"\n                        v-model:value="slideViewportSettings.coverMedia.objectPosX" />\n                </blur-column>\n\n                <blur-column>\n                    <blur-select-input \n                        :label="$tc(\'blurElysium.general.objectFit\')" \n                        :placeholder="viewportsPlaceholder(\'coverMedia.objectFit\', \'cover\', \'blurElysium.general\')"\n                        :device="device"\n                        :show-device="true"\n                        :options="[\n                            { value: \'cover\', label: $tc(\'blurElysium.general.cover\') },\n                            { value: \'contain\', label: $tc(\'blurElysium.general.contain\') },\n                            { value: \'auto\', label: $tc(\'blurElysium.general.auto\') }\n                        ]"\n                        @on-device="deviceSwitch"\n                        v-model:value="slideViewportSettings.coverMedia.objectFit" />\n                </blur-column>\n\n            </blur-section>\n        </blur-column>\n\n    </blur-section>\n\n    <sw-media-modal-v2\n        v-if="mediaModal.open"\n        :allow-multi-select="false"\n        entity-context="blur_elysium_slides"\n        @media-modal-selection-change="onAddMediaModal"\n        @modal-close="closeMediaModal" \n    />\n\n</mt-card>',mixins:[o.getByName("notification"),o.getByName("blur-device-utilities"),o.getByName("blur-style-utilities")],inject:["repositoryFactory","acl"],data(){return{activeTab:"coverImage",slideCoverMapping:{mobile:"slideCoverMobile",tablet:"slideCoverTablet",desktop:"slideCover"},mediaLoading:!1,mediaModal:{open:!1,type:null}}},computed:{elysiumUI(){return t.get("elysiumUI")},slide(){return t.get("elysiumSlide").slide},device(){return this.elysiumUI.device},mediaSidebar(){return this.elysiumUI.mediaSidebar},mediaRepository(){return this.repositoryFactory.create("media")},slideViewportSettings(){return this.slide.slideSettings.viewports[this.device]},tabs(){return[{label:this.$tc("blurElysiumSlides.forms.slideCoverImage.label"),name:"coverImage"},{label:this.$tc("blurElysiumSlides.forms.slideCoverVideo.label"),name:"coverVideo"}]},slideCoverUploadTag(){return({mobile:"blur-elysium-slide-cover-mobile",tablet:"blur-elysium-slide-cover-tablet",desktop:"blur-elysium-slide-cover"})[this.device]},slideCover(){return this.slide[this.slideCoverMapping[this.device]]??null},slideCoverProp(){return this.slideCoverMapping[this.device]},slideCoverVideo(){return this.slide.slideCoverVideo??null},coverVideoUploadElement(){return this.$refs.coverVideoUpload??null},permissionView(){return this.acl.can("blur_elysium_slides.viewer")},permissionCreate(){return this.acl.can("blur_elysium_slides.creator")},permissionEdit(){return this.acl.can("blur_elysium_slides.editor")},permissionDelete(){return this.acl.can("blur_elysium_slides.deleter")}},methods:{setSlideCover(e,l=!1){this.mediaLoading=!0;let i=e.id||e.targetId||null,n=!0===l?"slideCoverVideo":this.slideCoverProp;null===i?(console.error("mediaId is null. Slide cover media can not be set."),this.mediaLoading=!1):(this.slide[`${n}Id`]=i,e.path?(this.slide[n]=e,this.mediaLoading=!1):this.mediaRepository.get(i,r.api).then(e=>{this.slide[n]=e,this.mediaLoading=!1}).catch(e=>{console.error(e),this.mediaLoading=!1}))},removeSlideCover(e=!1){let l=!0===e?"slideCoverVideo":this.slideCoverProp;this.slide[`${l}Id`]=null,this.slide[l]=null},openMediaModal(e="slideCover"){this.mediaModal.open=!0,this.mediaModal.type=e},closeMediaModal(){this.mediaModal.open=!1,this.mediaModal.type=null},onAddMediaModal(e){e.length>0&&("slideCover"===this.mediaModal.type?this.setSlideCover(e[0]):"slideCoverVideo"===this.mediaModal.type&&this.setSlideCover(e[0],!0))}},created(){this.viewportsSettings=this.slide.slideSettings.viewports}})}}]);