"use strict";(window["webpackJsonpPluginblur-elysium-slider"]=window["webpackJsonpPluginblur-elysium-slider"]||[]).push([[2470],{2470:function(e,i,n){n.r(i),n.d(i,{default:function(){return d}});let{Component:l,Mixin:t,Store:s,Context:a}=Shopware;var d=l.wrapComponentConfig({template:'<mt-card\n    position-identifier="blurElysium.slide.form.focusImage"\n    :title="$tc(\'blurElysiumSlides.forms.slideFocusImage.label\')" \n    :subtitle="$tc(\'blurElysiumSlides.forms.slideFocusImage.description\')"\n    :class="[\'content-no-padding\']">\n\n    <template #headerRight>\n\n        <blur-device-switch \n            layout="row"\n            show-label="false"\n            :default-viewport="device"\n            :style="{\n                padding: \'0\',\n                width: \'100%\',\n                justifyContent: \'center\',\n                \'--container-gap\': \'12px\',\n                \'--icon-padding\': \'6px\',\n                \'--icon-bg-color\': \'#ffffff\',\n                \'--icon-hover-bg-color\': \'var(--color-gray-100)\',\n            }" \n            :device="device"\n            @change-device="device => elysiumUI.setDevice(device)"\n            />\n    </template>\n\n    <blur-section>\n\n        <blur-column\n            padding\n            :cols="12"\n            :cols-desktop="8"\n            :style="viewStyle({\n                desktop: { borderRight: \'1px solid var(--color-border-primary-default)\' }\n            })">\n\n            <sw-upload-listener\n                upload-tag="blur-elysium-slide-focus-image"\n                auto-upload\n                @media-upload-finish="setFocusImage"\n            />\n            <sw-media-upload-v2\n                variant="regular"\n                label="Medium"\n                :disabled="!(permissionCreate || permissionEdit)"\n                file-accept="image/*"\n                upload-tag="blur-elysium-slide-focus-image"\n                :source="focusImage"\n                :allow-multi-select="false"\n                :default-folder="\'blur_elysium_slides\'"\n                @media-upload-remove-image="removeFocusImage"\n                @media-upload-sidebar-open="mediaModal.open = true"\n            />\n        </blur-column>\n\n        <blur-column\n            padding\n            :cols="12"\n            :cols-desktop="4">\n\n            <blur-section\n                gap-y>\n\n                <blur-column>\n                    <mt-switch \n                        class="blur-switch-input"\n                        @change="slideViewportSettings.image.imageFullWidth = $event"\n                        :checked="slideViewportSettings.image.imageFullWidth"\n                        :label="$tc(\'blurElysiumSlides.forms.focusImage.fullWidth\')" />\n                </blur-column>\n\n                <blur-column>\n                    <blur-number-input \n                        :label="$tc(\'blurElysiumSlides.forms.slideWidth.label\')"\n                        :placeholder="viewportsPlaceholder(\'image.maxWidth\', $t(\'blurElysium.general.noLimit\'))"\n                        :show-device="true"\n                        :device="device"\n                        @on-device="deviceSwitch"\n                        :model-value="slideViewportSettings.image.maxWidth"\n                        @update-value="value => slideViewportSettings.image.maxWidth = value" /> \n                </blur-column>\n\n                <blur-column>\n                    <blur-select-input \n                        :label="$tc(\'blurElysium.general.jusitifyContent\')" \n                        :placeholder="viewportsPlaceholder(\'image.justifyContent\', \'center\', \'blurElysium.general\')"\n                        :options="[\n                            { value: \'flex-start\', label: $tc(\'blurElysium.general.jusitifyStart\') },\n                            { value: \'center\', label: $tc(\'blurElysium.general.jusitifyCenter\') },\n                            { value: \'flex-end\', label: $tc(\'blurElysium.general.jusitifyEnd\') }\n                        ]"\n                        :device="device"\n                        :show-device="true"\n                        @on-device="deviceSwitch"\n                        v-model:value="slideViewportSettings.image.justifyContent" />\n                </blur-column>\n            </blur-section>\n        </blur-column>\n    </blur-section>\n\n    <sw-media-modal-v2\n        v-if="mediaModal.open"\n        :allow-multi-select="false"\n        entity-context="blur_elysium_slides"\n        @media-modal-selection-change="onAddMediaModal"\n        @modal-close="mediaModal.open = false" \n    />\n</mt-card>',mixins:[t.getByName("notification"),t.getByName("blur-device-utilities"),t.getByName("blur-style-utilities")],inject:["repositoryFactory","acl"],data(){return{mediaLoading:!1,mediaModal:{open:!1,type:null}}},computed:{elysiumUI(){return s.get("elysiumUI")},slide(){return s.get("elysiumSlide").slide},device(){return this.elysiumUI.device},mediaSidebar(){return this.elysiumUI.mediaSidebar},mediaRepository(){return this.repositoryFactory.create("media")},slideViewportSettings(){return this.slide.slideSettings.viewports[this.device]},focusImage(){return this.slide.presentationMedia?this.slide.presentationMedia:this.slide.presentationMedia||null},permissionView(){return this.acl.can("blur_elysium_slides.viewer")},permissionCreate(){return this.acl.can("blur_elysium_slides.creator")},permissionEdit(){return this.acl.can("blur_elysium_slides.editor")},permissionDelete(){return this.acl.can("blur_elysium_slides.deleter")}},methods:{setFocusImage(e){this.mediaLoading=!0;let i=e.id||e.targetId||null;null===i?(console.error("mediaId is null. Slide cover media can not be set."),this.mediaLoading=!1):(this.slide.presentationMediaId=i,e.path?(this.slide.presentationMedia=e,this.mediaLoading=!1):this.mediaRepository.get(i,a.api).then(e=>{this.slide.presentationMedia=e,this.mediaLoading=!1}).catch(e=>{console.error(e),this.mediaLoading=!1}))},removeFocusImage(){this.slide.presentationMediaId=null,this.slide.presentationMedia=null},onAddMediaModal(e){this.setFocusImage(e[0])}},created(){this.viewportsSettings=this.slide.slideSettings.viewports}})}}]);