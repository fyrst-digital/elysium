(this["webpackJsonpPluginblur-elysium-slider"]=this["webpackJsonpPluginblur-elysium-slider"]||[]).push([[26],{fQDO:function(e,i,t){"use strict";t.r(i);var a=t("bHx7");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?n(Object(t),!0).forEach((function(i){d(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}function d(e,i,t){return(i=function(e){var i=function(e,i){if("object"!==r(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,i||"default");if("object"!==r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e,"string");return"symbol"===r(i)?i:String(i)}(i))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var o=Shopware,s=o.Component,u=o.Mixin,p=o.Context,m=s.getComponentHelper(),c=m.mapState,y=m.mapMutations;i.default={template:'{% block blur_elysium_slides_basic_form %}\n<sw-card-view>\n    <sw-card\n        :position-identifier="positionIdentifiers.detail.media"\n        :title="$tc(\'blurElysiumSlides.slideSettings.slideCover.label\')">\n        \n        <sw-container columns="1fr 1fr" gap="32px">\n\n            {% block blur_elysium_slides_media_form_cover_upload %}\n                <div>\n                    <sw-upload-listener\n                        :upload-tag="uploadTag.cover"\n                        auto-upload\n                        @media-upload-finish="payload => setMedia( \'slideCover\', payload.targetId )"\n                    />\n                    <sw-media-upload-v2\n                        class="blur-elysium-slides__media-upload"\n                        variant="regular"\n                        file-accept="*/*"\n                        :disabled="!editable"\n                        :upload-tag="uploadTag.cover"\n                        :source="slideCoverPreview"\n                        :allow-multi-select="false"\n                        :label="$tc(\'BlurElysiumSlides.mediaForm.uploadInput.title\')"\n                        :help-text="$tc(\'BlurElysiumSlides.mediaForm.uploadInput.helpText\')"\n                        :default-folder="entityName"\n                        @media-drop="payload => setMedia( \'slideCover\', payload.id )"\n                        @media-upload-remove-image="payload => resetMedia( \'slideCover\' )"\n                        @media-upload-sidebar-open="mediaSidebar.openContent()"\n                    />            \n                </div>\n            {% endblock %}\n\n\n            {% block blur_elysium_slides_media_form_cover_portrait_upload %}\n                <div v-if="slide.mediaPortrait?.mediaType.name !== \'VIDEO\'">\n                    <sw-upload-listener\n                        :upload-tag="uploadTag.coverPortrait"\n                        auto-upload\n                        @media-upload-finish="payload => setMedia( \'slideCoverPortrait\', payload.targetId )"\n                    />\n                    <sw-media-upload-v2\n                        :disabled="!editable"\n                        :upload-tag="uploadTag.coverPortrait"\n                        :source="slideCoverPortraitPreview"\n                        class="blur-elysium-slides__media-upload"\n                        :allow-multi-select="false"\n                        variant="regular"\n                        :label="$tc(\'BlurElysiumSlides.mediaForm.coverPortrait.title\')"\n                        :help-text="$tc(\'BlurElysiumSlides.mediaForm.coverPortrait.helpText\')"\n                        :default-folder="entityName"\n                        file-accept="image/*"\n                        @media-drop="payload => setMedia( \'slideCoverPortrait\', payload.id )"\n                        @media-upload-remove-image="payload => resetMedia( \'slideCoverPortrait\' )"\n                        @media-upload-sidebar-open="mediaSidebar.openContent()"\n                    />            \n                </div>\n            {% endblock %}\n        </sw-container>\n    </sw-card>\n\n    <sw-card\n        :position-identifier="positionIdentifiers.detail.presentationMedia"\n        :title="$tc(\'blurElysiumSlides.slideSettings.presentationMedia.label\')">\n        \n        <sw-container columns="1fr" gap="32px">\n\n            {% block blur_elysium_slides_media_form_presentation_media_upload %}\n                <div>\n                    <sw-upload-listener\n                        :upload-tag="uploadTag.presentationMedia"\n                        auto-upload\n                        @media-upload-finish="payload => setMedia( \'presentationMedia\', payload.targetId )"\n                    />\n                    <sw-media-upload-v2\n                        class="blur-elysium-slides__media-upload"\n                        variant="regular"\n                        file-accept="image/*"\n                        :disabled="!editable"\n                        :upload-tag="uploadTag.presentationMedia"\n                        :source="presentationMediaPreview"\n                        :allow-multi-select="false"\n                        :help-text="$tc(\'BlurElysiumSlides.mediaForm.uploadInput.helpText\')"\n                        :default-folder="entityName"\n                        @media-drop="payload => setMedia( \'presentationMedia\', payload.id )"\n                        @media-upload-remove-image="payload => resetMedia( \'presentationMedia\' )"\n                        @media-upload-sidebar-open="mediaSidebar.openContent()"\n                    />            \n                </div>\n            {% endblock %}\n        </sw-container>\n    </sw-card>\n</sw-card-view>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[u.getByName("blur-editable")],data:function(){return{uploadTag:{cover:"blur-elysium-slide-cover-media",coverPortrait:"blur-elysium-slide-cover-portrait-media",presentationMedia:"blur-elysium-slide-presentation-media"},mediaTypes:{slideCover:{idField:"mediaId",objectField:"media"},slideCoverPortrait:{idField:"mediaPortraitId",objectField:"mediaPortrait"},presentationMedia:{idField:"presentationMediaId",objectField:"presentationMedia"}}}},computed:l(l({},c("blurElysiumSlidesDetail",["slide","media","mediaSidebar","acl"])),{},{slideCoverPreview:function(){return this.slide.media?this.slide.media:this.media.slideCover?this.media.slideCover:null},slideCoverPortraitPreview:function(){return this.slide.mediaPortrait?this.slide.mediaPortrait:this.media.slideCoverPortrait?this.media.slideCoverPortrait:null},presentationMediaPreview:function(){return this.slide.presentationMedia?this.slide.presentationMedia:this.media.presentationMedia?this.media.presentationMedia:null},positionIdentifiers:function(){return a.b},mediaRepository:function(){return this.repositoryFactory.create("media")},entityName:function(){return"blur_elysium_slides"}}),methods:l(l({},y("blurElysiumSlidesDetail",["setSlideProperty","setSlideMedia"])),{},{fetchMedia:function(e){var i=this;this.mediaRepository.get(this.slide[this.mediaTypes[e].idField],p.api).then((function(t){i.setSlideMedia({key:e,value:t})})).catch((function(e){console.error(e)}))},setMedia:function(e,i){this.setSlideProperty({key:this.mediaTypes[e].idField,value:i}),this.fetchMedia(e)},resetMedia:function(e){this.setSlideProperty({key:this.mediaTypes[e].idField,value:null}),this.setSlideProperty({key:this.mediaTypes[e].objectField,value:null}),this.setSlideMedia({key:this.mediaTypes[e],value:null})},changeCoverType:function(e){this.coverType=e}})}}}]);