const a=`<mt-card position-identifier="blurElysium.cmsSlider.config" title="Elysium Slider" :class="['content-no-padding']" > <template #headerRight> <blur-device-switch layout="row" show-label="false" :device="device" @change-device="changeDevice" :style="{ padding: '0', width: '100%', justifyContent: 'center', '--container-gap': '12px', '--icon-padding': '6px', '--icon-bg-color': '#ffffff', '--icon-hover-bg-color': 'var(--color-gray-100)', }" /> </template> <template #tabs> <mt-tabs :defaultItem="activeTab" :items="tabs" @new-item-active="activeTab = $event" /> </template> <template v-if="activeTab === 'content'"> <blur-section gap padding :title="$tc('blurElysiumSlider.config.settings.general')" > <blur-column> <blur-text-input :label="$tc('blurElysiumSlider.config.content.sliderTitle')" :model-value="element.config.content.value.title" @update-value="value => element.config.content.value.title = value" /> </blur-column> </blur-section> <blur-section gap padding :title="$tc('blurElysiumSlides.slideSelection.listLabel')" > <blur-column> <elysium-slide-selection :selected-slides="selectedSlides" @drag-slide-drop="dragSlideDrop" @remove-slide="removeSlide" @add-slide="addSlide" @position-up="moveUpSlide" @position-down="moveDownSlide" /> </blur-column> </blur-section> </template> <blur-elysium-slider-config-settings v-if="activeTab === 'settings'" :config="element.config" /> <blur-elysium-slider-config-sizing v-if="activeTab === 'sizing'" :config="element.config" /> <blur-elysium-slider-config-navigation v-if="activeTab === 'navigation'" :config="element.config" /> <blur-elysium-slider-config-arrows v-if="activeTab === 'arrows'" :config="element.config" /> </mt-card>`,{Component:o,Mixin:n,Store:l,Data:d,Context:r}=Shopware,{Criteria:m}=d,u=o.wrapComponentConfig({template:a,mixins:[n.getByName("cms-state"),n.getByName("cms-element")],inject:["repositoryFactory"],data(){return{activeTab:"content"}},computed:{cmsPage(){return l.get("cmsPage")},elysiumCms(){return l.get("elysiumCMS")},selectedSlides(){return l.get("elysiumCMS").selectedSlides},selectedSlidesIds(){return this.selectedSlides.map(e=>e.id)},device(){return this.cmsPage.currentCmsDeviceView==="tablet-landscape"?"tablet":this.cmsPage.currentCmsDeviceView},slidesRepository(){return this.repositoryFactory.create("blur_elysium_slides")},tabs(){return[{label:this.$tc("blurElysiumSlider.config.contentLabel"),name:"content"},{label:this.$tc("blurElysiumSlider.config.settingsLabel"),name:"settings"},{label:this.$tc("blurElysiumSlider.config.sizingLabel"),name:"sizing"},{label:this.$tc("blurElysiumSlider.config.navigationLabel"),name:"navigation"},{label:this.$tc("blurElysiumSlider.config.arrowsLabel"),name:"arrows"}]}},methods:{changeDevice(e){this.cmsPage.setCurrentCmsDeviceView(e==="tablet"?"tablet-landscape":e)},loadSelectedSlides(e){const i=new m;i.setIds(e),this.slidesRepository.search(i,r.api).then(t=>{const s=t.filter(c=>e.includes(c.id));this.selectedSlides=s,this.elysiumCms.setSelectedSlides(s)}).catch(t=>{console.error("Error loading slides",t)})},addSlide(e){this.elysiumCms.addSelectedSlide(e)},removeSlide(e){this.elysiumCms.removeSelectedSlide(e)},moveUpSlide(e){const i=this.selectedSlides.indexOf(e);i>0&&this.elysiumCms.moveSelectedSlide(e,i,i-1)},moveDownSlide(e){const i=this.selectedSlides.indexOf(e);i<this.selectedSlides.length-1&&this.elysiumCms.moveSelectedSlide(e,i,i+1)},dragSlideDrop(e,i,t){this.elysiumCms.moveSelectedSlide(e,i,t)}},watch:{selectedSlidesIds:{handler(e){this.element.config.elysiumSlideCollection.value=e}}},created(){this.initElementConfig("blur-elysium-slider"),this.element.config.elysiumSlideCollection.value.length>0&&this.loadSelectedSlides(this.element.config.elysiumSlideCollection.value)},unmounted(){this.elysiumCms.clearSelectedSlides()}});export{u as default};
//# sourceMappingURL=index-gQ09nz1y.js.map
