{"version":3,"file":"index-Hi4Qq8Hc.js","sources":["../../../app/administration/src/component/cms/elements/blur-elysium-banner/component/template.html.twig","../../../app/administration/src/component/cms/elements/blur-elysium-banner/component/index.ts"],"sourcesContent":["<div>\n    <blur-elysium-cms-slide-skeleton\n        :title=\"slideSkeletonTitle\"\n        :description=\"slideSkeletonDescription\"\n        :badge=\"'Elysium Banner'\"\n        :style=\"slideSkeletonStyles\"\n    />\n</div>","import template from './template.html.twig';\n\nconst { Component, Mixin, Data, Store, Context } = Shopware;\nconst { Criteria } = Data;\n\nexport default Component.wrapComponentConfig({\n    template,\n\n    inject: ['repositoryFactory', 'acl'],\n\n    data() {\n        return {\n            previewSlide: null,\n        };\n    },\n\n    mixins: [Mixin.getByName('cms-element')],\n\n    watch: {\n        'config.elysiumSlide.value'(value: string) {\n            if (value !== '') {\n                this.loadPreviewSlide();\n            }\n        },\n    },\n\n    computed: {\n        cmsPage() {\n            return Store.get('cmsPage');\n        },\n\n        slidesRepository() {\n            return this.repositoryFactory.create('blur_elysium_slides');\n        },\n\n        slideCriteria() {\n            const criteria = new Criteria();\n\n            return criteria;\n        },\n\n        activeViewport() {\n            return this.cmsPage.currentCmsDeviceView.split('-')[0];\n        },\n\n        config() {\n            return this.element?.config ?? null;\n        },\n\n        aspectRatioStyle() {\n            const width =\n                this.config.viewports.value[this.activeViewport].aspectRatio\n                    .width;\n            const height =\n                this.config.viewports.value[this.activeViewport].aspectRatio\n                    .height;\n\n            if (\n                this.config.viewports.value[this.activeViewport].aspectRatio\n                    .auto === true\n            ) {\n                return 'auto';\n            }\n\n            return `${width} / ${height}`;\n        },\n\n        slideSkeletonTitle() {\n            if (\n                this.previewSlide !== null &&\n                this.previewSlide.translated?.title\n            ) {\n                return this.previewSlide.translated.title;\n            } else if (this.previewSlide !== null) {\n                return false;\n            }\n            return this.$tc('blurElysiumBanner.label');\n        },\n\n        slideSkeletonDescription() {\n            if (\n                this.previewSlide !== null &&\n                this.previewSlide.translated?.description\n            ) {\n                return this.previewSlide.translated.description;\n            } else if (this.previewSlide !== null) {\n                return false;\n            }\n            return this.$tc('blurElysiumBanner.messages.cmsDescription');\n        },\n\n        slideSkeletonCover() {\n            let defaultCover = null;\n\n            if (this.previewSlide !== null) {\n                if (this.previewSlide?.slideCover) {\n                    defaultCover = this.previewSlide.slideCover.url;\n                }\n\n                if (\n                    this.activeViewport === 'mobile' &&\n                    this.previewSlide?.slideCoverMobile\n                ) {\n                    return (\n                        this.previewSlide?.slideCoverMobile.url ?? defaultCover\n                    );\n                }\n\n                if (\n                    this.activeViewport === 'tablet' &&\n                    this.previewSlide?.slideCoverTablet\n                ) {\n                    return (\n                        this.previewSlide?.slideCoverTablet.url ?? defaultCover\n                    );\n                }\n            }\n\n            return defaultCover;\n        },\n\n        slideSkeletonStyles() {\n            const styles: Partial<CSSStyleDeclaration> = {};\n\n            if (this.previewSlide !== null) {\n                styles['--slide-border-color'] = 'transparent';\n\n                if (this.previewSlide.slideSettings?.slide?.bgColor) {\n                    styles['--slide-bg-color'] =\n                        this.previewSlide.slideSettings.slide.bgColor;\n                }\n            }\n\n            if (this.slideSkeletonCover !== null) {\n                styles.backgroundImage = `url(${this.slideSkeletonCover})`;\n            }\n\n            styles['--slide-aspect-ratio'] = this.aspectRatioStyle;\n\n            return styles;\n        },\n    },\n\n    created() {\n        this.initElementConfig('blur-elysium-banner');\n\n        if (this.config.elysiumSlide?.value !== '') {\n            this.loadPreviewSlide();\n        }\n    },\n\n    methods: {\n        loadPreviewSlide() {\n            this.slidesRepository\n                .get(\n                    this.config.elysiumSlide.value,\n                    Context.api,\n                    this.slideCriteria\n                )\n                .then((result) => {\n                    this.previewSlide = result;\n                });\n        },\n    },\n});\n"],"names":["template","Component","Mixin","Data","Store","Context","Criteria","index","value","_a","width","height","_b","_c","_d","_e","defaultCover","styles","result"],"mappings":"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"}