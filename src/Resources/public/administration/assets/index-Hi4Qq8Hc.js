const o=`<div> <blur-elysium-cms-slide-skeleton :title="slideSkeletonTitle" :description="slideSkeletonDescription" :badge="'Elysium Banner'" :style="slideSkeletonStyles" /> </div>`,{Component:n,Mixin:a,Data:d,Store:u,Context:c}=Shopware,{Criteria:p}=d,h=n.wrapComponentConfig({template:o,inject:["repositoryFactory","acl"],data(){return{previewSlide:null}},mixins:[a.getByName("cms-element")],watch:{"config.elysiumSlide.value"(e){e!==""&&this.loadPreviewSlide()}},computed:{cmsPage(){return u.get("cmsPage")},slidesRepository(){return this.repositoryFactory.create("blur_elysium_slides")},slideCriteria(){return new p},activeViewport(){return this.cmsPage.currentCmsDeviceView.split("-")[0]},config(){var e;return((e=this.element)==null?void 0:e.config)??null},aspectRatioStyle(){const e=this.config.viewports.value[this.activeViewport].aspectRatio.width,i=this.config.viewports.value[this.activeViewport].aspectRatio.height;return this.config.viewports.value[this.activeViewport].aspectRatio.auto===!0?"auto":`${e} / ${i}`},slideSkeletonTitle(){var e;return this.previewSlide!==null&&((e=this.previewSlide.translated)!=null&&e.title)?this.previewSlide.translated.title:this.previewSlide!==null?!1:this.$tc("blurElysiumBanner.label")},slideSkeletonDescription(){var e;return this.previewSlide!==null&&((e=this.previewSlide.translated)!=null&&e.description)?this.previewSlide.translated.description:this.previewSlide!==null?!1:this.$tc("blurElysiumBanner.messages.cmsDescription")},slideSkeletonCover(){var i,t,l,s,r;let e=null;if(this.previewSlide!==null){if((i=this.previewSlide)!=null&&i.slideCover&&(e=this.previewSlide.slideCover.url),this.activeViewport==="mobile"&&((t=this.previewSlide)!=null&&t.slideCoverMobile))return((l=this.previewSlide)==null?void 0:l.slideCoverMobile.url)??e;if(this.activeViewport==="tablet"&&((s=this.previewSlide)!=null&&s.slideCoverTablet))return((r=this.previewSlide)==null?void 0:r.slideCoverTablet.url)??e}return e},slideSkeletonStyles(){var i,t;const e={};return this.previewSlide!==null&&(e["--slide-border-color"]="transparent",(t=(i=this.previewSlide.slideSettings)==null?void 0:i.slide)!=null&&t.bgColor&&(e["--slide-bg-color"]=this.previewSlide.slideSettings.slide.bgColor)),this.slideSkeletonCover!==null&&(e.backgroundImage=`url(${this.slideSkeletonCover})`),e["--slide-aspect-ratio"]=this.aspectRatioStyle,e}},created(){var e;this.initElementConfig("blur-elysium-banner"),((e=this.config.elysiumSlide)==null?void 0:e.value)!==""&&this.loadPreviewSlide()},methods:{loadPreviewSlide(){this.slidesRepository.get(this.config.elysiumSlide.value,c.api,this.slideCriteria).then(e=>{this.previewSlide=e})}}});export{h as default};
//# sourceMappingURL=index-Hi4Qq8Hc.js.map
