{"version":3,"file":"index-CJG6lbMI.js","sources":["../../../../../../../../custom/static-plugins/BlurElysiumSlider/src/Resources/app/administration/src/component/cms/elements/blur-elysium-banner/component/template.html.twig","../../../../../../../../custom/static-plugins/BlurElysiumSlider/src/Resources/app/administration/src/component/cms/elements/blur-elysium-banner/component/index.ts"],"sourcesContent":["<div class=\"elysium-element-badge\">\n    {{ $tc('blurElysiumBanner.label') }}\n</div>\n<elysium-slide-preview \n    v-if=\"previewSlide\"\n    :slide=\"previewSlide\"\n    :device-view=\"activeViewport\"\n    :show-preview-notice=\"false\"\n    :aspect-ratio-x=\"getViewportProp('aspectRatio.width')\"\n    :aspect-ratio-y=\"getViewportProp('aspectRatio.height')\"\n    :max-height=\"getViewportProp('aspectRatio.maxHeight') ? `${getViewportProp('aspectRatio.maxHeight')}px` : 'none'\"\n/>\n<elysium-slide-skeleton \n    v-else \n    :title=\"$tc('blurElysiumBanner.label')\" \n    :description=\"$tc('blurElysiumBanner.messages.cmsDescription')\"\n    :aspect-ratio-x=\"getViewportProp('aspectRatio.width')\"\n    :aspect-ratio-y=\"getViewportProp('aspectRatio.height')\"\n    :max-height=\"getViewportProp('aspectRatio.maxHeight') ? `${getViewportProp('aspectRatio.maxHeight')}px` : 'none'\"\n/>","import template from './template.html.twig'\nimport { useViewportProp } from '@elysium/composables/views'\n\nconst { Component, Mixin, Data, Store, Context } = Shopware;\nconst { Criteria } = Data;\n\nexport default Component.wrapComponentConfig({\n    template,\n\n    inject: ['repositoryFactory', 'acl'],\n\n    data() {\n        return {\n            previewSlide: null,\n        };\n    },\n\n    mixins: [Mixin.getByName('cms-element')],\n\n    watch: {\n        'config.elysiumSlide.value'(value: string) {\n            if (value !== '') {\n                this.loadPreviewSlide();\n            }\n        },\n    },\n\n    computed: {\n        cmsPage() {\n            return Store.get('cmsPage');\n        },\n\n        slidesRepository() {\n            return this.repositoryFactory.create('blur_elysium_slides');\n        },\n\n        slideCriteria() {\n            const criteria = new Criteria();\n\n            return criteria;\n        },\n\n        activeViewport() {\n            return this.cmsPage.currentCmsDeviceView.split('-')[0];\n        },\n\n        config() {\n            return this.element?.config ?? null;\n        },\n    },\n\n    created() {\n        this.initElementConfig('blur-elysium-banner');\n\n        if (this.config.elysiumSlide?.value !== '') {\n            this.loadPreviewSlide();\n        }\n\n        console.log(this.config.viewports.value);\n    },\n\n    methods: {\n        loadPreviewSlide() {\n            this.slidesRepository\n                .get(\n                    this.config.elysiumSlide.value,\n                    Context.api,\n                    this.slideCriteria\n                )\n                .then((result) => {\n                    this.previewSlide = result;\n                });\n        },\n\n        getViewportProp(property: any) {\n            return useViewportProp(property, this.activeViewport, this.config.viewports.value)\n        }\n    },\n});\n"],"names":["template","Component","Mixin","Data","Store","Context","Criteria","index","value","_a","result","property","useViewportProp"],"mappings":"wCAAA,MAAeA,EAAA,myBCGT,CAAE,UAAAC,EAAW,MAAAC,EAAO,KAAAC,EAAM,MAAAC,EAAO,QAAAC,CAAY,EAAA,SAC7C,CAAE,SAAAC,CAAa,EAAAH,EAENI,EAAAN,EAAU,oBAAoB,CACzC,SAAAD,EAEA,OAAQ,CAAC,oBAAqB,KAAK,EAEnC,MAAO,CACI,MAAA,CACH,aAAc,IAClB,CACJ,EAEA,OAAQ,CAACE,EAAM,UAAU,aAAa,CAAC,EAEvC,MAAO,CACH,4BAA4BM,EAAe,CACnCA,IAAU,IACV,KAAK,iBAAiB,CAC1B,CAER,EAEA,SAAU,CACN,SAAU,CACC,OAAAJ,EAAM,IAAI,SAAS,CAC9B,EAEA,kBAAmB,CACR,OAAA,KAAK,kBAAkB,OAAO,qBAAqB,CAC9D,EAEA,eAAgB,CAGL,OAFU,IAAIE,CAGzB,EAEA,gBAAiB,CACb,OAAO,KAAK,QAAQ,qBAAqB,MAAM,GAAG,EAAE,CAAC,CACzD,EAEA,QAAS,OACE,QAAAG,EAAA,KAAK,UAAL,YAAAA,EAAc,SAAU,IAAA,CAEvC,EAEA,SAAU,OACN,KAAK,kBAAkB,qBAAqB,IAExCA,EAAA,KAAK,OAAO,eAAZ,YAAAA,EAA0B,SAAU,IACpC,KAAK,iBAAiB,EAG1B,QAAQ,IAAI,KAAK,OAAO,UAAU,KAAK,CAC3C,EAEA,QAAS,CACL,kBAAmB,CACf,KAAK,iBACA,IACG,KAAK,OAAO,aAAa,MACzBJ,EAAQ,IACR,KAAK,aAAA,EAER,KAAMK,GAAW,CACd,KAAK,aAAeA,CAAA,CACvB,CACT,EAEA,gBAAgBC,EAAe,CAC3B,OAAOC,EAAgBD,EAAU,KAAK,eAAgB,KAAK,OAAO,UAAU,KAAK,CAAA,CACrF,CAER,CAAC"}