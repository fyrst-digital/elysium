{"version":3,"file":"index-vr1E64cj.js","sources":["../../../app/administration/src/component/cms/elements/blur-elysium-slider/component/template.html.twig","../../../app/administration/src/component/cms/elements/blur-elysium-slider/component/index.ts"],"sourcesContent":["<blur-elysium-cms-slide-skeleton \n    :title=\"slideSkeletonTitle\"\n    :description=\"slideSkeletonDescription\" \n    :badge=\"'Elysium Slider'\"\n    :style=\"slideSkeletonStyles\" />","import template from './template.html.twig'\n\nconst { Component, Mixin, Data, Store, Context } = Shopware\nconst { Criteria } = Data\n\nexport default Component.wrapComponentConfig({\n    template,\n\n    inject: [\n        'repositoryFactory',\n        'acl'\n    ],\n\n    data() {\n        return {\n            previewSlide: null\n        }\n    },\n\n    mixins: [\n        Mixin.getByName('cms-element')\n    ],\n\n    watch: {\n        'config.elysiumSlideCollection.value'(value) {\n            if (value.length > 0) {\n                this.loadPreviewSlide()\n            } else {\n                this.previewSlide = null\n            }\n        }\n    },\n\n    computed: {\n        cmsPage () {\n            return Store.get('cmsPage');\n        },\n\n        slidesRepository () {\n            return this.repositoryFactory.create('blur_elysium_slides')\n        },\n\n        slideCriteria () {\n            const criteria = new Criteria()\n\n            return criteria\n        },\n\n        activeViewport () {\n            return this.cmsPage.currentCmsDeviceView.split('-')[0]\n        },\n\n        config () {\n            return this.element?.config ?? null\n        },\n\n        aspectRatioStyle () {\n            const width = this.config.viewports.value[this.activeViewport].sizing.aspectRatio.width\n            const height = this.config.viewports.value[this.activeViewport].sizing.aspectRatio.height\n\n            return `${width} / ${height}`\n        },\n\n        slideSkeletonTitle () {\n            if (this.previewSlide !== null && this.previewSlide.translated?.title) {\n                return this.previewSlide.translated.title\n            } else if (this.previewSlide !== null) {\n                return false\n            }\n            return this.$tc('blurElysiumSlider.label')\n        },\n\n        slideSkeletonDescription () {\n            if (this.previewSlide !== null && this.previewSlide.translated?.description) {\n                return this.previewSlide.translated.description\n            } else if (this.previewSlide !== null) {\n                return false\n            }\n            return this.$tc('blurElysiumSlider.messages.cmsDescription')\n        },\n\n        slideSkeletonCover () {\n            let defaultCover = null\n\n            if (this.previewSlide !== null) {\n                \n                if (this.previewSlide?.slideCover) {\n                    defaultCover = this.previewSlide.slideCover.url\n                }\n\n                if (this.activeViewport === 'mobile' && this.previewSlide?.slideCoverMobile) {\n                    return this.previewSlide?.slideCoverMobile.url ?? defaultCover\n                }\n\n                if (this.activeViewport === 'tablet' && this.previewSlide?.slideCoverTablet) {\n                    return this.previewSlide?.slideCoverTablet.url ?? defaultCover\n                }\n            }\n\n            return defaultCover\n        },\n\n        slideSkeletonStyles () {\n            const styles: Partial<CSSStyleDeclaration> = {}\n\n            if (this.previewSlide !== null) {\n                styles['--slide-border-color'] = 'transparent'\n\n                if (this.previewSlide.slideSettings?.slide?.bgColor) {\n                    styles['--slide-bg-color'] = this.previewSlide.slideSettings.slide.bgColor\n                }\n            }\n\n            if (this.slideSkeletonCover !== null) {\n                styles.backgroundImage = `url(${this.slideSkeletonCover})`\n            }\n\n            styles['--slide-aspect-ratio'] = this.aspectRatioStyle\n\n            return styles\n        }\n    },\n\n    created() {\n        this.initElementConfig('blur-elysium-slider')\n        \n        if (this.config.elysiumSlideCollection?.value?.length > 0) {\n            this.loadPreviewSlide()\n        }\n    },\n\n    methods: {\n        loadPreviewSlide () {\n            this.slidesRepository.get(this.config.elysiumSlideCollection.value[0], Context.api, this.slideCriteria).then((result) => {\n                this.previewSlide = result\n            })\n        }\n    }\n})"],"names":["template","Component","Mixin","Data","Store","Context","Criteria","index","value","_a","width","height","_b","_c","_d","_e","defaultCover","styles","result"],"mappings":"AAAA,MAAeA,EAAA,iKCET,CAAE,UAAAC,EAAW,MAAAC,EAAO,KAAAC,EAAM,MAAAC,EAAO,QAAAC,CAAY,EAAA,SAC7C,CAAE,SAAAC,CAAa,EAAAH,EAENI,EAAAN,EAAU,oBAAoB,CACzC,SAAAD,EAEA,OAAQ,CACJ,oBACA,KACJ,EAEA,MAAO,CACI,MAAA,CACH,aAAc,IAClB,CACJ,EAEA,OAAQ,CACJE,EAAM,UAAU,aAAa,CACjC,EAEA,MAAO,CACH,sCAAsCM,EAAO,CACrCA,EAAM,OAAS,EACf,KAAK,iBAAiB,EAEtB,KAAK,aAAe,IACxB,CAER,EAEA,SAAU,CACN,SAAW,CACA,OAAAJ,EAAM,IAAI,SAAS,CAC9B,EAEA,kBAAoB,CACT,OAAA,KAAK,kBAAkB,OAAO,qBAAqB,CAC9D,EAEA,eAAiB,CAGN,OAFU,IAAIE,CAGzB,EAEA,gBAAkB,CACd,OAAO,KAAK,QAAQ,qBAAqB,MAAM,GAAG,EAAE,CAAC,CACzD,EAEA,QAAU,CDpDlB,IAAAG,ECqDmB,QAAAA,EAAA,KAAK,UAAL,YAAAA,EAAc,SAAU,IACnC,EAEA,kBAAoB,CACV,MAAAC,EAAQ,KAAK,OAAO,UAAU,MAAM,KAAK,cAAc,EAAE,OAAO,YAAY,MAC5EC,EAAS,KAAK,OAAO,UAAU,MAAM,KAAK,cAAc,EAAE,OAAO,YAAY,OAE5E,MAAA,GAAGD,CAAK,MAAMC,CAAM,EAC/B,EAEA,oBAAsB,CD/D9B,IAAAF,ECgEY,OAAI,KAAK,eAAiB,QAAQA,EAAA,KAAK,aAAa,aAAlB,MAAAA,EAA8B,OACrD,KAAK,aAAa,WAAW,MAC7B,KAAK,eAAiB,KACtB,GAEJ,KAAK,IAAI,yBAAyB,CAC7C,EAEA,0BAA4B,CDxEpC,IAAAA,ECyEY,OAAI,KAAK,eAAiB,QAAQA,EAAA,KAAK,aAAa,aAAlB,MAAAA,EAA8B,aACrD,KAAK,aAAa,WAAW,YAC7B,KAAK,eAAiB,KACtB,GAEJ,KAAK,IAAI,2CAA2C,CAC/D,EAEA,oBAAsB,CDjF9B,IAAAA,EAAAG,EAAAC,EAAAC,EAAAC,ECkFY,IAAIC,EAAe,KAEf,GAAA,KAAK,eAAiB,KAAM,CAM5B,IAJIP,EAAA,KAAK,eAAL,MAAAA,EAAmB,aACJO,EAAA,KAAK,aAAa,WAAW,KAG5C,KAAK,iBAAmB,YAAYJ,EAAA,KAAK,eAAL,MAAAA,EAAmB,kBAChD,QAAAC,EAAA,KAAK,eAAL,YAAAA,EAAmB,iBAAiB,MAAOG,EAGtD,GAAI,KAAK,iBAAmB,YAAYF,EAAA,KAAK,eAAL,MAAAA,EAAmB,kBAChD,QAAAC,EAAA,KAAK,eAAL,YAAAA,EAAmB,iBAAiB,MAAOC,CACtD,CAGG,OAAAA,CACX,EAEA,qBAAuB,CDtG/B,IAAAP,EAAAG,ECuGY,MAAMK,EAAuC,CAAC,EAE1C,OAAA,KAAK,eAAiB,OACtBA,EAAO,sBAAsB,EAAI,eAE7BL,GAAAH,EAAA,KAAK,aAAa,gBAAlB,YAAAA,EAAiC,QAAjC,MAAAG,EAAwC,UACxCK,EAAO,kBAAkB,EAAI,KAAK,aAAa,cAAc,MAAM,UAIvE,KAAK,qBAAuB,OACrBA,EAAA,gBAAkB,OAAO,KAAK,kBAAkB,KAGpDA,EAAA,sBAAsB,EAAI,KAAK,iBAE/BA,CAAA,CAEf,EAEA,SAAU,CD3Hd,IAAAR,EAAAG,EC4HQ,KAAK,kBAAkB,qBAAqB,IAExCA,GAAAH,EAAA,KAAK,OAAO,yBAAZ,YAAAA,EAAoC,QAApC,YAAAG,EAA2C,QAAS,GACpD,KAAK,iBAAiB,CAE9B,EAEA,QAAS,CACL,kBAAoB,CAChB,KAAK,iBAAiB,IAAI,KAAK,OAAO,uBAAuB,MAAM,CAAC,EAAGP,EAAQ,IAAK,KAAK,aAAa,EAAE,KAAMa,GAAW,CACrH,KAAK,aAAeA,CAAA,CACvB,CAAA,CACL,CAER,CAAC"}