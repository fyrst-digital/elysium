{"version":3,"file":"index-DLjiJWRt.js","sources":["../../../../../../../../custom/static-plugins/BlurElysiumSlider/src/Resources/app/administration/src/component/cms/elements/blur-elysium-slider/config/template.html.twig","../../../../../../../../custom/static-plugins/BlurElysiumSlider/src/Resources/app/administration/src/component/cms/elements/blur-elysium-slider/config/index.ts"],"sourcesContent":["<mt-card\n    position-identifier=\"blurElysium.cmsSlider.config\"\n    title=\"Elysium Slider\"\n    :class=\"['content-no-padding']\"\n>\n    <template #headerRight>\n        <blur-device-switch\n            layout=\"row\"\n            show-label=\"false\"\n            :device=\"device\"\n            @change-device=\"changeDevice\"\n            :style=\"{\n                padding: '0',\n                width: '100%',\n                justifyContent: 'center',\n                '--container-gap': '12px',\n                '--icon-padding': '6px',\n                '--icon-bg-color': '#ffffff',\n                '--icon-hover-bg-color': 'var(--color-gray-100)',\n            }\"\n        />\n    </template>\n\n    <template #tabs>\n        <mt-tabs\n            :defaultItem=\"activeTab\"\n            :items=\"tabs\"\n            @new-item-active=\"activeTab = $event\"\n        />\n    </template>\n\n    <template v-if=\"activeTab === 'content'\">\n        <blur-section\n            gap\n            padding\n            :title=\"$tc('blurElysiumSlider.config.settings.general')\"\n        >\n            <blur-column\n                :cols=\"8\">\n\n                <blur-text-input\n                    :label=\"$tc('blurElysiumSlider.config.content.sliderTitle')\"\n                    :model-value=\"element.config.content.value.title\"\n                    @update-value=\"value => element.config.content.value.title = value\"\n                />\n            </blur-column>\n\n            <blur-column\n                :cols=\"4\">\n\n                <blur-select-input\n                    :options=\"[\n                        { value: 'div', label: 'DIV' },\n                        { value: 'h1', label: 'H1' },\n                        { value: 'h2', label: 'H2' },\n                        { value: 'h3', label: 'H3' },\n                        { value: 'h4', label: 'H4' },\n                        { value: 'h5', label: 'H5' },\n                        { value: 'h6', label: 'H6' }\n                    ]\"\n                    placeholder=\"H2\"\n                    :label=\"$tc('blurElysiumSlides.forms.slideHeadlineElement.label')\"\n                    :helpText=\"$tc('blurElysiumSlides.forms.slideHeadlineElement.helpText')\"\n                    v-model:value=\"element.config.content.value.titleTag\"\n                />\n            </blur-column>\n\n            <blur-column\n                :cols=\"12\">\n\n                <mt-switch\n                    class=\"blur-switch-input\"\n                    :label=\"$tc('blurElysiumSlider.config.settings.titleSrOnly.label')\"\n                    :helpText=\"$tc('blurElysiumSlider.config.settings.titleSrOnly.helpText')\"\n                    :checked=\"element.config.content.value.titleSrOnly\"\n                    @change=\"element.config.content.value.titleSrOnly = $event\"\n                />\n            </blur-column>\n        </blur-section>\n\n        <blur-section\n            gap\n            padding\n            :title=\"$tc('blurElysiumSlides.slideSelection.listLabel')\"\n        >\n            <blur-column>\n                <elysium-slide-selection\n                    :selected-slides=\"selectedSlides\"\n                    @drag-slide-drop=\"dragSlideDrop\"\n                    @remove-slide=\"removeSlide\"\n                    @add-slide=\"addSlide\"\n                    @position-up=\"moveUpSlide\"\n                    @position-down=\"moveDownSlide\"\n                />\n            </blur-column>\n        </blur-section>\n    </template>\n    <blur-elysium-slider-config-settings\n        v-if=\"activeTab === 'settings'\"\n        :config=\"element.config\"\n    />\n    <blur-elysium-slider-config-sizing\n        v-if=\"activeTab === 'sizing'\"\n        :config=\"element.config\"\n    />\n    <blur-elysium-slider-config-navigation\n        v-if=\"activeTab === 'navigation'\"\n        :config=\"element.config\"\n    />\n    <blur-elysium-slider-config-arrows\n        v-if=\"activeTab === 'arrows'\"\n        :config=\"element.config\"\n    />\n</mt-card>","import template from './template.html.twig';\n\nconst { Component, Mixin, Store, Data, Context } = Shopware;\nconst { Criteria } = Data;\n\nexport default Component.wrapComponentConfig({\n    template,\n\n    mixins: [Mixin.getByName('cms-state'), Mixin.getByName('cms-element')],\n\n    inject: ['repositoryFactory'],\n\n    data() {\n        return {\n            activeTab: 'content',\n            selectedSlides: []\n        };\n    },\n\n    computed: {\n        cmsPage() {\n            return Store.get('cmsPage');\n        },\n\n        elysiumCms() {\n            return Store.get('elysiumCMS');\n        },\n\n        selectedSlidesIds() {\n            return this.selectedSlides.map((slide: Entity<'blur_elysium_slides'>) => slide.id);\n        },\n\n        device() {\n            if (this.cmsPage.currentCmsDeviceView === 'tablet-landscape') {\n                return 'tablet';\n            }\n\n            return this.cmsPage.currentCmsDeviceView;\n        },\n\n        slidesRepository() {\n            return this.repositoryFactory.create('blur_elysium_slides');\n        },\n\n        tabs() {\n            return [\n                {\n                    label: this.$tc('blurElysiumSlider.config.contentLabel'),\n                    name: 'content',\n                },\n                {\n                    label: this.$tc('blurElysiumSlider.config.settingsLabel'),\n                    name: 'settings',\n                },\n                {\n                    label: this.$tc('blurElysiumSlider.config.sizingLabel'),\n                    name: 'sizing',\n                },\n                {\n                    label: this.$tc('blurElysiumSlider.config.navigationLabel'),\n                    name: 'navigation',\n                },\n                {\n                    label: this.$tc('blurElysiumSlider.config.arrowsLabel'),\n                    name: 'arrows',\n                },\n            ];\n        },\n    },\n\n    methods: {\n        changeDevice(device: string) {\n            this.cmsPage.setCurrentCmsDeviceView(\n                device === 'tablet' ? 'tablet-landscape' : device\n            );\n        },\n\n        loadSelectedSlides(selectedSlidesIds: string[]) {\n            const criteria = new Criteria();\n            criteria.setIds(selectedSlidesIds);\n\n            this.slidesRepository\n                .search(criteria, Context.api)\n                .then((result: EntityCollection<'blur_elysium_slides'>) => {\n                    const filteredSlides = result.filter((slide) =>\n                        selectedSlidesIds.includes(slide.id)\n                    );\n                    this.selectedSlides = filteredSlides;\n                })\n                .catch((error) => {\n                    console.error('Error loading slides', error);\n                });\n        },\n\n        addSlide(slide: Entity<'blur_elysium_slides'>) {\n            this.selectedSlides.push(slide);\n        },\n\n        removeSlide(slide: Entity<'blur_elysium_slides'>) {\n            const index = this.selectedSlides.findIndex(\n                (selectedSlide: Entity<'blur_elysium_slides'>) => selectedSlide.id === slide.id\n            );\n            if (index !== -1) this.selectedSlides.splice(index, 1);\n        },\n\n        moveUpSlide(slide: Entity<'blur_elysium_slides'>) {\n            const currentIndex = this.selectedSlides.indexOf(slide);\n            const toIndex = currentIndex - 1;\n\n            if (currentIndex > 0)\n                this.selectedSlides.splice(currentIndex, 1);\n                this.selectedSlides.splice(toIndex, 0, slide);\n        },\n\n        moveDownSlide(slide: Entity<'blur_elysium_slides'>) {\n            const currentIndex = this.selectedSlides.indexOf(slide);\n            const toIndex = currentIndex + 1;\n\n            if (currentIndex < this.selectedSlides.length - 1) {\n                this.selectedSlides.splice(currentIndex, 1);\n                this.selectedSlides.splice(toIndex, 0, slide);\n            }\n        },\n\n        dragSlideDrop(\n            slide: Entity<'blur_elysium_slides'>,\n            fromIndex: number,\n            toIndex: number\n        ) {\n            this.selectedSlides.splice(fromIndex, 1);\n            this.selectedSlides.splice(toIndex, 0, slide);\n        },\n    },\n\n    watch: {\n        selectedSlidesIds: {\n            handler(slidesIds: string[]) {\n                this.element.config.elysiumSlideCollection.value = slidesIds;\n            },\n        },\n    },\n\n    created() {\n        this.initElementConfig('blur-elysium-slider');\n        if (this.element.config.elysiumSlideCollection.value.length > 0) {\n            this.loadSelectedSlides(\n                this.element.config.elysiumSlideCollection.value\n            );\n        }\n    },\n});\n"],"names":["template","Component","Mixin","Store","Data","Context","Criteria","index","slide","device","selectedSlidesIds","criteria","result","filteredSlides","error","selectedSlide","currentIndex","toIndex","fromIndex","slidesIds"],"mappings":"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"}