const o=`<blur-elysium-cms-slide-skeleton :title="slideSkeletonTitle" :description="slideSkeletonDescription" :badge="'Elysium Slider'" :style="slideSkeletonStyles" />`,{Component:n,Mixin:d,Data:a,Store:c,Context:u}=Shopware,{Criteria:h}=a,p=n.wrapComponentConfig({template:o,inject:["repositoryFactory","acl"],data(){return{previewSlide:null}},mixins:[d.getByName("cms-element")],watch:{"config.elysiumSlideCollection.value"(e){e.length>0?this.loadPreviewSlide():this.previewSlide=null}},computed:{cmsPage(){return c.get("cmsPage")},slidesRepository(){return this.repositoryFactory.create("blur_elysium_slides")},slideCriteria(){return new h},activeViewport(){return this.cmsPage.currentCmsDeviceView.split("-")[0]},config(){var e;return((e=this.element)==null?void 0:e.config)??null},aspectRatioStyle(){const e=this.config.viewports.value[this.activeViewport].sizing.aspectRatio.width,i=this.config.viewports.value[this.activeViewport].sizing.aspectRatio.height;return`${e} / ${i}`},slideSkeletonTitle(){var e;return this.previewSlide!==null&&((e=this.previewSlide.translated)!=null&&e.title)?this.previewSlide.translated.title:this.previewSlide!==null?!1:this.$tc("blurElysiumSlider.label")},slideSkeletonDescription(){var e;return this.previewSlide!==null&&((e=this.previewSlide.translated)!=null&&e.description)?this.previewSlide.translated.description:this.previewSlide!==null?!1:this.$tc("blurElysiumSlider.messages.cmsDescription")},slideSkeletonCover(){var i,t,l,s,r;let e=null;if(this.previewSlide!==null){if((i=this.previewSlide)!=null&&i.slideCover&&(e=this.previewSlide.slideCover.url),this.activeViewport==="mobile"&&((t=this.previewSlide)!=null&&t.slideCoverMobile))return((l=this.previewSlide)==null?void 0:l.slideCoverMobile.url)??e;if(this.activeViewport==="tablet"&&((s=this.previewSlide)!=null&&s.slideCoverTablet))return((r=this.previewSlide)==null?void 0:r.slideCoverTablet.url)??e}return e},slideSkeletonStyles(){var i,t;const e={};return this.previewSlide!==null&&(e["--slide-border-color"]="transparent",(t=(i=this.previewSlide.slideSettings)==null?void 0:i.slide)!=null&&t.bgColor&&(e["--slide-bg-color"]=this.previewSlide.slideSettings.slide.bgColor)),this.slideSkeletonCover!==null&&(e.backgroundImage=`url(${this.slideSkeletonCover})`),e["--slide-aspect-ratio"]=this.aspectRatioStyle,e}},created(){var e,i;this.initElementConfig("blur-elysium-slider"),((i=(e=this.config.elysiumSlideCollection)==null?void 0:e.value)==null?void 0:i.length)>0&&this.loadPreviewSlide()},methods:{loadPreviewSlide(){this.slidesRepository.get(this.config.elysiumSlideCollection.value[0],u.api,this.slideCriteria).then(e=>{this.previewSlide=e})}}});export{p as default};
//# sourceMappingURL=index-vr1E64cj.js.map
