{% if selectorClass is not defined %}
    {% set selectorClass = '.blur-elysium-slide' %}
{% endif %}

{% if viewportConfig is not defined %}
    {% set viewportConfig = element.config.viewports.value %}
{% endif %}

{% if slideStyles is not defined %}
    {% set slideStyles = null %}
{% endif %}

{% if slideCoverMobile is not defined %}
    {% set slideCoverMobile = null %}
{% endif %}

{% if slideCoverTablet is not defined %}
    {% set slideCoverTablet = null %}
{% endif %}

{% if slideCover is not defined %}
    {% set slideCover = null %}
{% endif %}

{% set slideCovers = {
    mobile: slideCoverMobile,
    tablet: slideCoverTablet,
    desktop: slideCover
} %}

{% set slideContainerStyles = {
    '--bg-color': slideData.slideSettings.container.bgColor
} %}

{% set headlineStyles = {
    '--color': slideData.slideSettings.headlineTextcolor
} %}

{% set presentationMedia = slideData.presentationMedia %}

{% if slideData.product is not same as(null) and slideData.slideSettings.slide.linking.type is same as('product') %}

    {% if slideData.product.cover and slideData.presentationMedia is null %}
        {% set presentationMedia = slideData.product.cover.media %}
    {% endif %}
{% endif %}

{% apply spaceless %}
<style id="style-{{ slideData.id }}" style="display:none !important; visibility:hidden !important;">
    {# general slide styles #}
    {% if slideStyles is not empty %}
        {{ selectorClass|raw }}[data-elysium-slide-id="{{ slideData.id }}"] {
            {% for prop, value in slideStyles|filter(v => v !== null) %}
                {{prop}}: {{value}};
            {% endfor %}
        }
    {% endif %}

    {# general slide container styles #}
    {% if slideContainerStyles is not empty %}
        {{ selectorClass|raw }}[data-elysium-slide-id="{{ slideData.id }}"] .blur-elysium-slide-container {
            {% for prop, value in slideContainerStyles|filter(v => v !== null) %}
                {{prop}}: {{value}};
            {% endfor %}
        }
    {% endif %}

    {# slide headline styles #}
    {% if headlineStyles is not empty %}
        {{ selectorClass|raw }}[data-elysium-slide-id="{{ slideData.id }}"] .blur-elysium-slide-headline {
            {% for prop, value in headlineStyles|filter(v => v !== null) %}
                {{prop}}: {{value}}
            {% endfor %}
        }
    {% endif %}

    {# viewport options for cms element #}
    {% for device, options in viewportConfig %}
        @media (min-width: {{ theme_config('breakpoint.' ~ blurElysiumBreakpoints[device])~'px' }}) {
            {{ selectorClass|raw }}[data-elysium-slide-id="{{ slideData.id }}"] {
                {% if options.aspectRatio.auto is not same as(true) %}
                    --aspect-ratio: {{options.aspectRatio.width}} / {{options.aspectRatio.height}};
                {% else %}
                    --aspect-ratio: auto;
                {% endif %}
            }
        }            
    {% endfor %}

    {# viewport dependent options for slide #}
    {% if slideViewportStyles is not null %}
        {% for device, options in slideViewportStyles %}
            @media (min-width: {{ theme_config('breakpoint.' ~ blurElysiumBreakpoints[device])~'px' }}) {
                {{ selectorClass|raw }}[data-elysium-slide-id="{{ slideData.id }}"] {
                    --padding-x: {{ options.slide.paddingX ~ 'px' }};
                    --padding-y: {{ options.slide.paddingY ~ 'px' }};
                    --align-items: {{ options.slide.alignItems }};
                    --justify-content: {{ options.slide.justifyContent }};
                    {% if options.slide.borderRadius is defined %}
                        --border-radius: {{ options.slide.borderRadius ~ 'px' }};
                    {% else %}
                        --border-radius: 0;
                    {% endif %}
                }
                {% if options.coverImage %}
                    {{ selectorClass|raw }}[data-elysium-slide-id="{{ slideData.id }}"] .blur-elysium-slide-cover-image {
                        {% for key, value in options.coverImage %}
                            {{ '--' ~ camel_to_kebab_case(key) }}: {{ value }};
                        {% endfor %}
                    }
                {% endif %}
                {% if options.coverVideo %}
                    {{ selectorClass|raw }}[data-elysium-slide-id="{{ slideData.id }}"] .blur-elysium-slide-cover-video {
                        {% for key, value in options.coverVideo %}
                            {{ '--' ~ camel_to_kebab_case(key) }}: {{ value }};
                        {% endfor %}
                    }
                {% endif %}
                {{ selectorClass|raw }}[data-elysium-slide-id="{{ slideData.id }}"] .blur-elysium-slide-container {
                    {% if options.container.columnWrap is not same as(true) and presentationMedia is not null %}
                        --columns: auto auto;
                    {% else %}
                        --columns: 1fr;
                    {% endif %}
                    --padding-x: {{ options.container.paddingX ~ 'px' }};
                    --padding-y: {{ options.container.paddingY ~ 'px' }};
                    --gap: {{ options.container.gap ~ 'px' }};
                    --border-radius: {{ options.container.borderRadius ~ 'px' }};
                    {% if options.container.maxWidthDisabled is not same as(true) %}
                        --max-width: {{ options.container.maxWidth ~ 'px' }};
                    {% endif %}
                    --align-items: {{ options.container.alignItems }};
                    {% if options.container.justifyContent is defined %} 
                        --justify-content: {{ options.container.justifyContent }};
                    {% endif %}
                }
                {{ selectorClass|raw }}[data-elysium-slide-id="{{ slideData.id }}"] .blur-elysium-slide-content {
                    {% if options.container.order is same as('reverse') %}
                        --order: 2;
                    {% else %}
                        --order: 1;
                    {% endif %}
                    {% if options.content.textAlign is defined %}
                        --text-align: {{ options.content.textAlign }};
                    {% else %}
                        --text-align: left;
                    {% endif %}
                    {% if options.content.maxWidth is defined and options.content.maxWidthDisabled is not same as(true) %}
                        --max-width: {{ options.content.maxWidth ~ 'px' }};
                    {% endif %}
                    --padding-x: {{ options.content.paddingX ~ 'px' }};
                    --padding-y: {{ options.content.paddingY ~ 'px' }};
                }
                {{ selectorClass|raw }}[data-elysium-slide-id="{{ slideData.id }}"] .blur-elysium-slide-image {
                    {% if options.container.order is same as('reverse') %}
                        --order: 1;
                    {% else %}
                        --order: 2;
                    {% endif %}
                    {% if options.image.justifyContent is defined %}
                        --justify-content: {{ options.image.justifyContent }};
                    {% endif %}
                    {% if options.image.imageFullWidth is defined and options.image.imageFullWidth is same as(true) %}
                        --image-width: 100%;
                    {% else %}
                        --image-width: auto;
                    {% endif %}
                    {% if options.image.maxWidth is defined and options.image.maxWidthDisabled is not same as(true) %}
                        --max-width: {{ options.image.maxWidth ~ 'px' }};
                    {% endif %}
                }
                {{ selectorClass|raw }}[data-elysium-slide-id="{{ slideData.id }}"] .blur-elysium-slide-headline {
                    {% if options.headline.fontSize is defined and options.headline.fontSize is not empty %}
                        font-size: {{ options.headline.fontSize ~ 'px' }};
                    {% else %}
                        font-size: revert;    
                    {% endif %}
                }
            }
        {% endfor %}
    {% endif %}
</style>
{% endapply %}