{% block cms_element_blur_elysium_slider_root %}

    {% set sliderOverlay = element.translated.config.sliderOverlay.value %}
    {% set sliderSettingsNav = element.translated.config.sliderNavigation.value %}
    {% set slideSpeed = element.translated.config.slideSpeed.value %}
    {% set sliderArrowColors = element.translated.config.sliderArrowColor.value %}
    {% set sliderAspectRatio = element.translated.config.aspectRatio.value %}

    {% set sliderSettings = {
        nav: sliderSettingsNav,
        navContainer: '[data-base-slider-nav=true]',
        controls: true,
        loop: false,
        rewind: true,
        speed: slideSpeed,
        autoplay: sliderAutoplay,
        autoplayTimeout: sliderAutoplayTimeout,
        autoplayHoverPause: true,
        autoplayButtonOutput: false
    } %}

    {% set sliderAutoplay = element.translated.config.settings.value.autoplay %}
    {% set sliderNavigation = element.translated.config.navigation.value %}
    {% set sliderArrows = element.translated.config.arrows.value %}
    {% set sliderSizing = element.translated.config.sizing.value %}

    {% set sliderOptions = {
        splideOptions: {
            arrows: sliderArrows.active,
            pagination: sliderNavigation.active,
            autoplay: sliderAutoplay.active,
            interval: sliderAutoplay.interval,
            pauseOnHover: sliderAutoplay.pauseOnHover,
            speed: element.translated.config.settings.value.speed,
            rewind: element.translated.config.settings.value.rewind
        }
    } %}

    {% block cms_element_blur_elysium_slider_css_styles %}

        {% sw_include '@Storefront/storefront/component/blur-elysium-slider/base-style.html.twig' with {
            sizes: sliderSizing,
            elementId: element.id
        } only %}
    {% endblock %}

    {% block cms_element_blur_elysium_slider %}
        {# your could override sliderSettings variables on this block #}

        <div id="elysiumSlider-{{ element.id }}" 
            data-blur-elysium-slider="{{sliderOptions|json_encode}}"
            class="cms-element-elysium-slider{% if sliderOverlay %} has-overlay{% endif %}">

            {% block blur_elysium_control_include_header %} 
                {% if element.translated.config.content.value.title is not empty %} 
                    {% sw_include '@Storefront/storefront/component/blur-elysium-slider/header.html.twig' %}
                {% endif %}
            {% endblock %}

            {% if element.data.slideCollection is empty %}

                {% block cms_element_blur_elysium_slider_empty_state %}
                    <!-- no slide collection here -->
                {% endblock %}
            {% else %}

                {% block cms_element_blur_elysium_slider_container %}
                    <section class="blur-elysium-slider splide"
                        aria-label="Elysium Slider Title"
                        data-blur-elysium-slider-container>

                        {% block cms_element_blur_elysium_slide_wrapper %}
                            <div class="blur-elysium-slide__wrapper">

                                {% block cms_element_blur_elysium_slide_track_before %}{% endblock %}

                                <div class="splide__track">
                                    <ul class="splide__list">
                                        {% for slide in element.data.slideCollection %}
                                            <li class="cms-element-elysium-slide__wrapper splide__slide">

                                                {% block cms_element_blur_elysium_slide_include %}
                                                    {% set slideTemplate = 'slide' %}

                                                    {% if slide.slideSettings.customTemplateFile %}
                                                        {% set slideTemplate = 'custom/' ~ slide.slideSettings.customTemplateFile %}
                                                    {% endif %}

                                                    {% sw_include '@Storefront/storefront/component/blur-elysium-slide/' ~ slideTemplate ~'.html.twig' ignore missing with {
                                                        slide: slide
                                                    } only %}
                                                {% endblock %}
                                            </li>
                                        {% endfor %}
                                    </ul>
                                </div>

                                {% block cms_element_blur_elysium_slide_track_after %}

                                    {% block blur_elysium_slider_arrows_include_position_in_slider %}  
                                        {% sw_include '@Storefront/storefront/component/blur-elysium-slider/arrows.html.twig' with {
                                            config: sliderArrows,
                                            elementId: element.id
                                        } only %}
                                    {% endblock %}
                                {% endblock %}
                            </div>
                        {% endblock %}
                        
                        {% block blur_elysium_slider_navigation_include_under_slider %}  
                            {% sw_include '@Storefront/storefront/component/blur-elysium-slider/navigation.html.twig' with {
                                config: sliderNavigation,
                                elementId: element.id
                            } only %}
                        {% endblock %}

                    </section>
                {% endblock %} 
           {% endif %}

        </div>  
    {% endblock %}  
{% endblock %}


